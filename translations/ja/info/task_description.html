<!-- Japanese translation provided by @cielavenir (original problem setter) -->
<p>
    人は時折奇妙なものを作る。
    我々のロボットは古代の大砲装填システムを発見し、使いたいと思った。
    このシステムでは、番号のついたパイプが円形状に並んでいる。
    これらのパイプの後ろには回転機構があり、大砲が接続されている。
    このシステムは信じられない程古いので、いくつかの大砲は故障している。
    装填機械には、砲弾を入れるパイプの番号入りのプログラムが書き込まれている。
    これらの番号はパイプに彫り込まれているため変更することができない。
    しかし、回転機構により、パイプと大砲の対応を変更することができる。
    我々は、砲弾が全て故障していない大砲に装填されるための、全ての回転を調べる必要がある。
    全ての砲弾は同時に装填される。
</p>

<p>
    パイプは0からN-1までの番号が振られている。
    回転機構の初期状態は1/0の配列で与えられる。
    それぞれの要素はパイプの後ろにある大砲を表している。
    0番目の要素は0番目のパイプとつながっている大砲を表す。
    1であれば使用できる大砲、0であれば故障している大砲である。
</p>
<p>
    砲弾が装填されるパイプの番号はわかっている(複数の砲弾が1つの大砲に装填されることがある)。
    あなたの目標は、全ての砲弾が使用できる大砲に装填されるような回転を時計回りに全て調べることだ。
    回転は、時計回りに何単位回転するかを表した整数である。
    結果は昇順リストで表されなければならない。
    回転が不要な場合は0となる(勿論他の場合も調べる必要はある)。
    もし答えがない場合は、空配列([])を返してほしい。
</p>
<p>
    例えば、初期状態が [1,0,0,0,1,1,0,1,0,0,0,1]、パイプの番号が [0,1] であるとしよう。
    もし回転機構を1単位か8単位回転させれば、0番目と1番目のパイプは両方とも使用できる大砲とつながる。
</p>

<p style="text-align: center;">
    <img class="for_info_only" title="floor" src="{{MEDIA}}floor.png" alt="floor" width="600px"/>
    <img class="for_editor_only" title="floor" src="{{MEDIA}}floor.png" alt="floor" width="380px"/>
</p>

<p>
    <strong>入力: </strong> ２つの引数
    <ul style="margin-left: 20px;">
        <li style="list-style: disc;">初期状態(1/0)</li>
        <li style="list-style: disc;">砲弾を入れるパイプの番号(整数のリスト)</li>
    </ul>
</p>

<p>
    <strong>出力: </strong> 条件を満たす回転のリスト。条件を満たす回転が存在しなければ空配列
</p>

<div class="for_info_only">
    <p>
        <strong>例:</strong>
    </p>
{% if interpreter.slug == "js-node" %}
<pre class="brush: javascript">
rotate([1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1], [0, 1]) == [1, 8]
rotate([1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1], [0, 1, 2]) == []
rotate([1, 0, 0, 0, 1, 1, 0, 1], [0, 4, 5]) == [0]
rotate([1, 0, 0, 0, 1, 1, 0, 1], [5, 4, 5]) == [0, 5]
</pre>
{% else %}
<pre class="brush: python">
rotate([1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1], [0, 1]) == [1, 8]
rotate([1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1], [0, 1, 2]) == []
rotate([1, 0, 0, 0, 1, 1, 0, 1], [0, 4, 5]) == [0]
rotate([1, 0, 0, 0, 1, 1, 0, 1], [5, 4, 5]) == [0, 5]
</pre>
{% endif %}

</div>

<p class="for_info_only">
    <strong>どのように使われるか:</strong>
    循環データ構造に慣れることができるでしょう。
</p>


<p><strong>制約</strong>:<br>
    3 &le; len(<strong>state</strong>) &lt; 100<br>
    all(0 &le; n &lt; len(<strong>state</strong>) for n in <strong>pipe_numbers</strong>)<br>
</p>
